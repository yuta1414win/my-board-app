# ===========================================
# 本番環境変数テンプレート
# ===========================================
# 使用方法: このファイルをコピーして .env.production.local を作成し、
# Vercel Dashboard の Environment Variables で設定してください

# NextAuth.js設定（必須）
NEXTAUTH_SECRET="本番用48文字以上のランダム文字列" # openssl rand -base64 48
NEXTAUTH_URL="https://yourdomain.com"

# MongoDB Atlas本番接続（必須）
MONGODB_URI="mongodb+srv://prod-user:STRONG_PASSWORD@prod-cluster.xxxxx.mongodb.net/board-prod?retryWrites=true&w=majority"

# メール送信設定（必須 - Resend推奨）
RESEND_API_KEY="re_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"
EMAIL_FROM="noreply@yourdomain.com"

# セキュリティ設定（必須）
JWT_SECRET="本番用64文字のランダム文字列" # openssl rand -hex 64
ENCRYPTION_KEY="本番用32文字のランダム文字列" # openssl rand -hex 32

# アプリケーション設定
APP_URL="https://yourdomain.com"
APP_NAME="My Board App"
NODE_ENV="production"

# 本番用レート制限設定（厳格化）
RATE_LIMIT_MAX_REQUESTS="3"         # 認証は1時間に3回まで
RATE_LIMIT_WINDOW_MS="3600000"      # 1時間
API_RATE_LIMIT_MAX="10"             # API呼び出しは1分に10回まで
API_RATE_LIMIT_WINDOW="60000"       # 1分間

# セッション設定
SESSION_MAX_AGE="2592000"  # 30日間（秒）

# ログ設定
LOG_LEVEL="error"  # 本番では error レベルのみ

# Sentry エラー監視（オプション）
NEXT_PUBLIC_SENTRY_DSN="https://xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx@xxxxxxx.ingest.sentry.io/xxxxxxx"
SENTRY_ORG="your-org-name"
SENTRY_PROJECT="your-project-name"
SENTRY_AUTH_TOKEN="your-sentry-auth-token"

# 監視・分析（オプション）
NEXT_PUBLIC_VERCEL_ANALYTICS_ID="your-analytics-id"

# セキュリティ設定
CONTENT_SECURITY_POLICY="default-src 'self'; script-src 'self' 'unsafe-eval' 'unsafe-inline'; style-src 'self' 'unsafe-inline'; img-src 'self' data: blob:; font-src 'self'; connect-src 'self' https://*.sentry.io; frame-ancestors 'none';"

# ===========================================
# セキュリティ生成コマンド（参考）
# ===========================================
# NEXTAUTH_SECRET生成:
# openssl rand -base64 48

# JWT_SECRET生成:
# openssl rand -hex 64

# ENCRYPTION_KEY生成:
# openssl rand -hex 32